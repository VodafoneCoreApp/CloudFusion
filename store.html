<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Subpackages &mdash; CloudFusion 0.01 documentation</title>
    
    <link rel="stylesheet" href="static/default.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.01',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="CloudFusion 0.01 documentation" href="index.html" />
    <link rel="up" title="Developers documentation" href="develop.html" />
    <link rel="next" title="The webdav_store Module" href="store.webdav.html" />
    <link rel="prev" title="The virtualfile Module" href="pyfusebox.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="store.webdav.html" title="The webdav_store Module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="pyfusebox.html" title="The virtualfile Module"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">CloudFusion 0.01 documentation</a> &raquo;</li>
          <li><a href="develop.html" accesskey="U">Developers documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="subpackages">
<h1>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="store.webdav.html">The <tt class="docutils literal"><span class="pre">webdav_store</span></tt> Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="store.webdav.html#module-cloudfusion.store.webdav.tinydav_client">The <tt class="docutils literal"><span class="pre">tinydav_client</span></tt> Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="store.webdav.html#the-cadaver-client-module">The <tt class="docutils literal"><span class="pre">cadaver_client</span></tt> Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="store.webdav.html#module-cloudfusion.store.webdav.bulk_get_metadata_webdav_store">The <tt class="docutils literal"><span class="pre">bulk_get_metadata_webdav_store</span></tt> Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="store.sugarsync.html">The <tt class="docutils literal"><span class="pre">sugarsync_store</span></tt> Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="store.sugarsync.html#module-cloudfusion.store.sugarsync.client">The <tt class="docutils literal"><span class="pre">client</span></tt> Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="store.s3.html">The <tt class="docutils literal"><span class="pre">bulk_get_metadata_amazon_store</span></tt> Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="store.s3.html#module-cloudfusion.store.s3.amazon_store">The <tt class="docutils literal"><span class="pre">amazon_store</span></tt> Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="store.local_drive.html">The <tt class="docutils literal"><span class="pre">local_hd_store</span></tt> Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="store.gs.html">The <tt class="docutils literal"><span class="pre">google_store</span></tt> Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="store.gs.html#module-cloudfusion.store.gs.bulk_get_metadata_google_store">The <tt class="docutils literal"><span class="pre">bulk_get_metadata_google_store</span></tt> Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="store.gdrive.html">The <tt class="docutils literal"><span class="pre">google_drive</span></tt> Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="store.dropbox.html">The <tt class="docutils literal"><span class="pre">file_decorator</span></tt> Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="store.dropbox.html#module-cloudfusion.store.dropbox.dropbox_store">The <tt class="docutils literal"><span class="pre">dropbox_store</span></tt> Module</a></li>
</ul>
</div>
</div>
<div class="section" id="module-cloudfusion.store.transparent_store">
<span id="the-transparent-store-module"></span><h1>The <tt class="xref py py-mod docutils literal"><span class="pre">transparent_store</span></tt> Module<a class="headerlink" href="#module-cloudfusion.store.transparent_store" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cloudfusion.store.transparent_store.ExceptionStats">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.transparent_store.</tt><tt class="descname">ExceptionStats</tt><big>(</big><em>name=''</em>, <em>exception_list=None</em>, <em>desc=''</em>, <em>count=1</em>, <em>lasttime=1419892947.288438</em><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_store.ExceptionStats" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Statistics of a certain exception.
:param name: the identifier of the exception 
:param exception_list: the list of the actual exception instances
:param desc: the description of the exception (defaults to str(exception) )
:param count: number of occurences of the exception (defaults to 1)
:param lasttime: the last time the exception occured in seconds from the epoche (defaults to current time)</p>
<dl class="staticmethod">
<dt id="cloudfusion.store.transparent_store.ExceptionStats.add_exception">
<em class="property">static </em><tt class="descname">add_exception</tt><big>(</big><em>exception</em>, <em>exceptions_log</em>, <em>name=None</em>, <em>desc=None</em>, <em>count=-1</em>, <em>lasttime=None</em><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_store.ExceptionStats.add_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an ExceptionStats object to the list <em>exception_log</em> or update time of occurence, exception_list, 
and count if there is a similar exception in the log.
:param exception: the exception to add to the log
:param exceptions_log: an existing dictionary of exceptions mapping their name to an ExceptionStats instance (might be empty)
:param name: the identifier of the exception (defaults to type(exception) or repr(exception) )
:param desc: the description of the exception (defaults to str(exception) )
:param count: number of occurences of the exception (defaults to last count plus 1 or to 1 if if no exception with the same identifier exists)
:param lasttime: the last time the exception occured in seconds from the epoche (defaults to current time)
:returns: the updated exception log</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cloudfusion.store.transparent_store.TransparentStore">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.transparent_store.</tt><tt class="descname">TransparentStore</tt><a class="headerlink" href="#cloudfusion.store.transparent_store.TransparentStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Interface to get statistics about a store.
The unit MB is 1000000 Bytes.</p>
<dl class="method">
<dt id="cloudfusion.store.transparent_store.TransparentStore.get_cache_hits">
<tt class="descname">get_cache_hits</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_store.TransparentStore.get_cache_hits" title="Permalink to this definition">¶</a></dt>
<dd><p>Get number of files that were accessed while they were cached</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_store.TransparentStore.get_cache_misses">
<tt class="descname">get_cache_misses</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_store.TransparentStore.get_cache_misses" title="Permalink to this definition">¶</a></dt>
<dd><p>Get number of files that were accessed while they were not in cache</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_store.TransparentStore.get_dirty_files">
<tt class="descname">get_dirty_files</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_store.TransparentStore.get_dirty_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of file paths to files that are not already synchronized with the store</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_store.TransparentStore.get_download_rate">
<tt class="descname">get_download_rate</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_store.TransparentStore.get_download_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Get download rate in MB/s</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_store.TransparentStore.get_downloaded">
<tt class="descname">get_downloaded</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_store.TransparentStore.get_downloaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Get amount of data downloaded from a store in MB</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_store.TransparentStore.get_exception_stats">
<tt class="descname">get_exception_stats</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_store.TransparentStore.get_exception_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Get dict of exception statistics with exception names mapping to <a class="reference internal" href="#cloudfusion.store.transparent_store.ExceptionStats" title="cloudfusion.store.transparent_store.ExceptionStats"><tt class="xref py py-class docutils literal"><span class="pre">ExceptionStats</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_store.TransparentStore.get_status_information">
<tt class="descname">get_status_information</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_store.TransparentStore.get_status_information" title="Permalink to this definition">¶</a></dt>
<dd><p>Get arbitrary string describing status of the store</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_store.TransparentStore.get_upload_rate">
<tt class="descname">get_upload_rate</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_store.TransparentStore.get_upload_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Get upload rate in MB/s</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_store.TransparentStore.get_uploaded">
<tt class="descname">get_uploaded</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_store.TransparentStore.get_uploaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Get amount of data uploaded to a store in MB</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cloudfusion.store.transparent_chunk_caching_store">
<span id="the-transparent-chunk-caching-store-module"></span><h1>The <tt class="xref py py-mod docutils literal"><span class="pre">transparent_chunk_caching_store</span></tt> Module<a class="headerlink" href="#module-cloudfusion.store.transparent_chunk_caching_store" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.transparent_chunk_caching_store.</tt><tt class="descname">TransparentChunkMultiprocessingCachingStore</tt><big>(</big><em>store</em>, <em>cache_expiration_time=60</em>, <em>cache_size_in_mb=2000</em>, <em>hard_cache_size_limit_in_mb=3000</em>, <em>cache_id=None</em>, <em>max_archive_size_in_mb=4</em>, <em>cache_dir='/tmp/cloudfusion'</em><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore" title="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore"><tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore</span></tt></a>, <a class="reference internal" href="#cloudfusion.store.transparent_store.TransparentStore" title="cloudfusion.store.transparent_store.TransparentStore"><tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.store.transparent_store.TransparentStore</span></tt></a></p>
<p>Implements the <tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.store.cache_stats.TransparentStore</span></tt> interface to get statistics about a cache wrapping a store.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>store</strong> &#8211; the store whose access should be cached</li>
<li><strong>cache_expiration_time</strong> &#8211; the time in seconds until any cache entry is expired</li>
<li><strong>cache_size_in_mb</strong> &#8211; Approximate (soft) limit of the cache in MB.</li>
<li><strong>hard_cache_size_limit_in_mb</strong> &#8211; Hard limit of the cache in MB, exceeding this limit should slow down write operations.</li>
<li><strong>cache_id</strong> &#8211; Serves as identifier for a persistent cache instance.</li>
<li><strong>max_archive_size_in_mb</strong> &#8211; the maximum size of an archive</li>
<li><strong>cache_dir</strong> &#8211; Cache directory on local hard drive disk, default value is <em>/tmp/cloudfusion</em>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.exceeds_hard_limit">
<tt class="descname">exceeds_hard_limit</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.exceeds_hard_limit" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">true if the hard limit of the cache is exceeded, which should should slow down write operations</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_cache_hits">
<tt class="descname">get_cache_hits</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_cache_hits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_cache_misses">
<tt class="descname">get_cache_misses</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_cache_misses" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_cachesize">
<tt class="descname">get_cachesize</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_cachesize" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the size of the cache in MB</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_dirty_files">
<tt class="descname">get_dirty_files</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_dirty_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_download_rate">
<tt class="descname">get_download_rate</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_download_rate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_downloaded">
<tt class="descname">get_downloaded</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_downloaded" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_exception_stats">
<tt class="descname">get_exception_stats</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_exception_stats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_file">
<tt class="descname">get_file</tt><big>(</big><em>path_to_file</em><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_hard_limit">
<tt class="descname">get_hard_limit</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_hard_limit" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the hard limit of the cache in MB, exceeding this limit should slow down write operations</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_status_information">
<tt class="descname">get_status_information</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_status_information" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_upload_rate">
<tt class="descname">get_upload_rate</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_upload_rate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_uploaded">
<tt class="descname">get_uploaded</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.get_uploaded" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.store_fileobject">
<tt class="descname">store_fileobject</tt><big>(</big><em>fileobject</em>, <em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_chunk_caching_store.TransparentChunkMultiprocessingCachingStore.store_fileobject" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cloudfusion.store.transparent_caching_store">
<span id="the-transparent-caching-store-module"></span><h1>The <tt class="xref py py-mod docutils literal"><span class="pre">transparent_caching_store</span></tt> Module<a class="headerlink" href="#module-cloudfusion.store.transparent_caching_store" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.transparent_caching_store.</tt><tt class="descname">TransparentMultiprocessingCachingStore</tt><big>(</big><em>store</em>, <em>cache_expiration_time=60</em>, <em>cache_size_in_mb=2000</em>, <em>hard_cache_size_limit_in_mb=10000</em>, <em>cache_id=None</em>, <em>cache_dir='/tmp/cloudfusion'</em><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore" title="cloudfusion.store.caching_store.MultiprocessingCachingStore"><tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.store.caching_store.MultiprocessingCachingStore</span></tt></a>, <a class="reference internal" href="#cloudfusion.store.transparent_store.TransparentStore" title="cloudfusion.store.transparent_store.TransparentStore"><tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.store.transparent_store.TransparentStore</span></tt></a></p>
<p>Implements the <tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.store.cache_stats.TransparentStore</span></tt> interface to get statistics about a cache wrapping a store.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>store</strong> &#8211; the store whose access should be cached</li>
<li><strong>cache_expiration_time</strong> &#8211; the time in seconds until any cache entry is expired</li>
<li><strong>cache_size_in_mb</strong> &#8211; Approximate (soft) limit of the cache in MB.</li>
<li><strong>hard_cache_size_limit_in_mb</strong> &#8211; Hard limit of the cache in MB, exceeding this limit should slow down write operations.</li>
<li><strong>cache_id</strong> &#8211; Serves as identifier for a persistent cache instance.</li>
<li><strong>cache_dir</strong> &#8211; Cache directory on local hard drive disk, default value is <em>/tmp/cloudfusion</em>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.exceeds_hard_limit">
<tt class="descname">exceeds_hard_limit</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.exceeds_hard_limit" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">true if the hard limit of the cache is exceeded, which should should slow down write operations</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_cache_hits">
<tt class="descname">get_cache_hits</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_cache_hits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_cache_misses">
<tt class="descname">get_cache_misses</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_cache_misses" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_cachesize">
<tt class="descname">get_cachesize</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_cachesize" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the size of the cache in MB</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_dirty_files">
<tt class="descname">get_dirty_files</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_dirty_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_download_rate">
<tt class="descname">get_download_rate</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_download_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Get download rate in MB/s</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_downloaded">
<tt class="descname">get_downloaded</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_downloaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Get amount of data downloaded from a store in MB</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_exception_stats">
<tt class="descname">get_exception_stats</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_exception_stats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_file">
<tt class="descname">get_file</tt><big>(</big><em>path_to_file</em><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_hard_limit">
<tt class="descname">get_hard_limit</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_hard_limit" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the hard limit of the cache in MB, exceeding this limit should slow down write operations</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_status_information">
<tt class="descname">get_status_information</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_status_information" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_upload_rate">
<tt class="descname">get_upload_rate</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_upload_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Get upload rate in MB/s</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_uploaded">
<tt class="descname">get_uploaded</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.get_uploaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Get amount of data uploaded to a store in MB</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.store_fileobject">
<tt class="descname">store_fileobject</tt><big>(</big><em>fileobject</em>, <em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore.store_fileobject" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cloudfusion.store.store_worker">
<span id="the-store-worker-module"></span><h1>The <tt class="xref py py-mod docutils literal"><span class="pre">store_worker</span></tt> Module<a class="headerlink" href="#module-cloudfusion.store.store_worker" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cloudfusion.store.store_worker.GetFreeSpaceWorker">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.store_worker.</tt><tt class="descname">GetFreeSpaceWorker</tt><big>(</big><em>store</em>, <em>logger</em>, <em>poll_wait_time_in_s=600</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.GetFreeSpaceWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Worker to cyclically poll for free space on store.</p>
<dl class="method">
<dt id="cloudfusion.store.store_worker.GetFreeSpaceWorker._run">
<tt class="descname">_run</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.GetFreeSpaceWorker._run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.GetFreeSpaceWorker.get_free_bytes_in_remote_store">
<tt class="descname">get_free_bytes_in_remote_store</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.GetFreeSpaceWorker.get_free_bytes_in_remote_store" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.GetFreeSpaceWorker.is_alive">
<tt class="descname">is_alive</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.GetFreeSpaceWorker.is_alive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.GetFreeSpaceWorker.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.GetFreeSpaceWorker.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.GetFreeSpaceWorker.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.GetFreeSpaceWorker.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="cloudfusion.store.store_worker.LeightWeightValue">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.store_worker.</tt><tt class="descname">LeightWeightValue</tt><big>(</big><em>val</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.LeightWeightValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>To replace multiprocessing.Value.</p>
</dd></dl>

<dl class="class">
<dt id="cloudfusion.store.store_worker.ReadWorker">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.store_worker.</tt><tt class="descname">ReadWorker</tt><big>(</big><em>store</em>, <em>path</em>, <em>logger</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.ReadWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="method">
<dt id="cloudfusion.store.store_worker.ReadWorker._check_result">
<tt class="descname">_check_result</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.ReadWorker._check_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.ReadWorker._clean_up">
<tt class="descname">_clean_up</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.ReadWorker._clean_up" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.ReadWorker._get_result">
<tt class="descname">_get_result</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.ReadWorker._get_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.ReadWorker._run">
<tt class="descname">_run</tt><big>(</big><em>result_queue</em>, <em>end_time</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.ReadWorker._run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.ReadWorker.get_duration">
<tt class="descname">get_duration</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.ReadWorker.get_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Get duration of download in seconds</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.ReadWorker.get_endtime">
<tt class="descname">get_endtime</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.ReadWorker.get_endtime" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the end time of the download in seconds from the epoche</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.ReadWorker.get_error">
<tt class="descname">get_error</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.ReadWorker.get_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.ReadWorker.get_filesize">
<tt class="descname">get_filesize</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.ReadWorker.get_filesize" title="Permalink to this definition">¶</a></dt>
<dd><p>Get size of the file to write in bytes</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.ReadWorker.get_result">
<tt class="descname">get_result</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.ReadWorker.get_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the data of the read file.
This only works once after a successful read and is a blocking call.
Use is_successful to check if the read has been successful without blocking.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.ReadWorker.get_starttime">
<tt class="descname">get_starttime</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.ReadWorker.get_starttime" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the start time of the download in seconds from the epoche</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.ReadWorker.is_finished">
<tt class="descname">is_finished</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.ReadWorker.is_finished" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.ReadWorker.is_successful">
<tt class="descname">is_successful</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.ReadWorker.is_successful" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.ReadWorker.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.ReadWorker.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.ReadWorker.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.ReadWorker.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="cloudfusion.store.store_worker.RemoveWorker">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.store_worker.</tt><tt class="descname">RemoveWorker</tt><big>(</big><em>store</em>, <em>path</em>, <em>is_dir</em>, <em>logger</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.RemoveWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="method">
<dt id="cloudfusion.store.store_worker.RemoveWorker._run">
<tt class="descname">_run</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.RemoveWorker._run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.RemoveWorker.is_finished">
<tt class="descname">is_finished</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.RemoveWorker.is_finished" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.RemoveWorker.is_successful">
<tt class="descname">is_successful</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.RemoveWorker.is_successful" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.RemoveWorker.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.RemoveWorker.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.RemoveWorker.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.RemoveWorker.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="cloudfusion.store.store_worker.WorkerStats">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.store_worker.</tt><tt class="descname">WorkerStats</tt><a class="headerlink" href="#cloudfusion.store.store_worker.WorkerStats" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Statistics about workers. Resets statistics automatically after 100*1000 workers.</p>
<dl class="method">
<dt id="cloudfusion.store.store_worker.WorkerStats._log_exception">
<tt class="descname">_log_exception</tt><big>(</big><em>exception</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WorkerStats._log_exception" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WorkerStats.add_finished_worker">
<tt class="descname">add_finished_worker</tt><big>(</big><em>worker</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WorkerStats.add_finished_worker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WorkerStats.get_download_rate">
<tt class="descname">get_download_rate</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WorkerStats.get_download_rate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WorkerStats.get_download_time">
<tt class="descname">get_download_time</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WorkerStats.get_download_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get download time considering parallel downloads.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WorkerStats.get_upload_rate">
<tt class="descname">get_upload_rate</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WorkerStats.get_upload_rate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WorkerStats.get_upload_time">
<tt class="descname">get_upload_time</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WorkerStats.get_upload_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get download time considering parallel uploads.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WorkerStats.reset">
<tt class="descname">reset</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WorkerStats.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets all statistics.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cloudfusion.store.store_worker.WriteWorker">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.store_worker.</tt><tt class="descname">WriteWorker</tt><big>(</big><em>store</em>, <em>path</em>, <em>file</em>, <em>pool</em>, <em>logger</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Uploads a single file in a separate process. 
The start method is used to begin the upload. The method is_finished can be used to check
if the worker is done. is_successful shows if it has been successful after it is done. If not successful, an error message can be retrieved with get_error.
Other methods can be used to get upload statistics.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>store</strong> &#8211; Store instance that will be deepcopied and used in a newly created process to upload file</li>
<li><strong>path</strong> &#8211; path that is used in the store as a reference to the uploaded file</li>
<li><strong>file</strong> &#8211; fileobject with a name attribute; file.name needs to be a file on the local harddrive; the file is removed after the worker is finished</li>
<li><strong>pool</strong> &#8211; a process pool of type WriteWorkerProcesses</li>
<li><strong>logger</strong> &#8211; a multiprocessing logger</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="cloudfusion.store.store_worker.WriteWorker._check_result">
<tt class="descname">_check_result</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorker._check_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WriteWorker._clean_up">
<tt class="descname">_clean_up</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorker._clean_up" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WriteWorker.get_duration">
<tt class="descname">get_duration</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorker.get_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Get duration of upload in seconds</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WriteWorker.get_endtime">
<tt class="descname">get_endtime</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorker.get_endtime" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the end time of the upload in seconds from the epoche</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WriteWorker.get_error">
<tt class="descname">get_error</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorker.get_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WriteWorker.get_filesize">
<tt class="descname">get_filesize</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorker.get_filesize" title="Permalink to this definition">¶</a></dt>
<dd><p>Get size of the file to write in bytes</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WriteWorker.get_starttime">
<tt class="descname">get_starttime</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorker.get_starttime" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the start time of the upload in seconds from the epoche</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WriteWorker.get_updatetime">
<tt class="descname">get_updatetime</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorker.get_updatetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the point of time the file has been updated in the store in seconds from the epoche</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WriteWorker.is_finished">
<tt class="descname">is_finished</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorker.is_finished" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WriteWorker.is_sleeping">
<tt class="descname">is_sleeping</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorker.is_sleeping" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True iff the worker does nothing.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WriteWorker.is_successful">
<tt class="descname">is_successful</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorker.is_successful" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WriteWorker.kill">
<tt class="descname">kill</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorker.kill" title="Permalink to this definition">¶</a></dt>
<dd><p>Forcefully stop the upload process.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WriteWorker.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorker.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WriteWorker.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorker.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="cloudfusion.store.store_worker.WriteWorkerProcesses">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.store_worker.</tt><tt class="descname">WriteWorkerProcesses</tt><big>(</big><em>store</em>, <em>logger</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorkerProcesses" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Process pool for WriteWorker.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>store</strong> &#8211; An implementation of the Store interface.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="cloudfusion.store.store_worker.WriteWorkerProcesses.END_TIME">
<tt class="descname">END_TIME</tt><em class="property"> = 'end_time'</em><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorkerProcesses.END_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cloudfusion.store.store_worker.WriteWorkerProcesses.LOCAL_FILEPATH">
<tt class="descname">LOCAL_FILEPATH</tt><em class="property"> = 'local_filepath'</em><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorkerProcesses.LOCAL_FILEPATH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cloudfusion.store.store_worker.WriteWorkerProcesses.REMOTE_FILEPATH">
<tt class="descname">REMOTE_FILEPATH</tt><em class="property"> = 'remote_filepath'</em><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorkerProcesses.REMOTE_FILEPATH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WriteWorkerProcesses._run">
<tt class="descname">_run</tt><big>(</big><em>result_queue</em>, <em>interrupt_event</em>, <em>parameters</em>, <em>store</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorkerProcesses._run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WriteWorkerProcesses.get_worker">
<tt class="descname">get_worker</tt><big>(</big><em>local_filepath</em>, <em>remote_filepath</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorkerProcesses.get_worker" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>local_filepath</strong> &#8211; The path of the local file.</li>
<li><strong>remote_filepath</strong> &#8211; The remote path to store the local file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a worker process from the pool.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_worker.WriteWorkerProcesses.recycle_worker">
<tt class="descname">recycle_worker</tt><big>(</big><em>worker</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_worker.WriteWorkerProcesses.recycle_worker" title="Permalink to this definition">¶</a></dt>
<dd><p>Put the <em>worker</em> process back into the pool for reuse.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cloudfusion.store.store_sync_thread">
<span id="the-store-sync-thread-module"></span><h1>The <tt class="xref py py-mod docutils literal"><span class="pre">store_sync_thread</span></tt> Module<a class="headerlink" href="#module-cloudfusion.store.store_sync_thread" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.store_sync_thread.</tt><tt class="descname">StoreSyncThread</tt><big>(</big><em>cache</em>, <em>store</em>, <em>logger</em>, <em>max_writer_threads=30</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Synchronizes between cache and store</p>
<p>Max. throughput for files &lt; 1MB is max_writer_threads * 100KB per second.
:param max_writer_threads: Max. number of writer threads to use.</p>
<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread._StoreSyncThread__get_file_size_in_mb">
<tt class="descname">_StoreSyncThread__get_file_size_in_mb</tt><big>(</big><em>fileobject</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread._StoreSyncThread__get_file_size_in_mb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread._StoreSyncThread__sleep">
<tt class="descname">_StoreSyncThread__sleep</tt><big>(</big><em>seconds</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread._StoreSyncThread__sleep" title="Permalink to this definition">¶</a></dt>
<dd><p>Sleep until <em>seconds</em> have passed since last call</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread._acquire_two_locks">
<tt class="descname">_acquire_two_locks</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread._acquire_two_locks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread._check_for_failed_writers">
<tt class="descname">_check_for_failed_writers</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread._check_for_failed_writers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread._get_max_threads">
<tt class="descname">_get_max_threads</tt><big>(</big><em>size_in_mb</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread._get_max_threads" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the number of upload worker threads that should be used</td>
</tr>
</tbody>
</table>
<p>according to the the file size and the average time needed to upload a file.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread._get_reader">
<tt class="descname">_get_reader</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread._get_reader" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread._get_writer">
<tt class="descname">_get_writer</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread._get_writer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread._profiled_run">
<tt class="descname">_profiled_run</tt><big>(</big><em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread._profiled_run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread._reconnect">
<tt class="descname">_reconnect</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread._reconnect" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread._release_two_locks">
<tt class="descname">_release_two_locks</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread._release_two_locks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread._remove_finished_readers">
<tt class="descname">_remove_finished_readers</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread._remove_finished_readers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread._remove_finished_writers">
<tt class="descname">_remove_finished_writers</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread._remove_finished_writers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread._remove_sleeping_writers">
<tt class="descname">_remove_sleeping_writers</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread._remove_sleeping_writers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread._remove_successful_removers">
<tt class="descname">_remove_successful_removers</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread._remove_successful_removers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread._restart_unsuccessful_removers">
<tt class="descname">_restart_unsuccessful_removers</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread._restart_unsuccessful_removers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread._run">
<tt class="descname">_run</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread._run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.blocking_read">
<tt class="descname">blocking_read</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.blocking_read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.delete">
<tt class="descname">delete</tt><big>(</big><em>path</em>, <em>is_dir</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.delete_cache_entry">
<tt class="descname">delete_cache_entry</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.delete_cache_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.enqueue_dirty_entries">
<tt class="descname">enqueue_dirty_entries</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.enqueue_dirty_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Start new writer jobs with dirty cache entries.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.enqueue_lru_entries">
<tt class="descname">enqueue_lru_entries</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.enqueue_lru_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Start new writer jobs with expired least recently used cache entries.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.get_download_rate">
<tt class="descname">get_download_rate</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.get_download_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Get download rate in MB/s</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.get_downloaded">
<tt class="descname">get_downloaded</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.get_downloaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Get amount of data downloaded from a store in MB</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.get_exception_stats">
<tt class="descname">get_exception_stats</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.get_exception_stats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.get_upload_rate">
<tt class="descname">get_upload_rate</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.get_upload_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Get upload rate in MB/s</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.get_uploaded">
<tt class="descname">get_uploaded</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.get_uploaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Get amount of data uploaded to a store in MB</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.is_in_progress">
<tt class="descname">is_in_progress</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.is_in_progress" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True iff <em>path</em> is currently uploaded or being removed</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.last_heartbeat">
<tt class="descname">last_heartbeat</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.last_heartbeat" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;Get time since last heartbeat in seconds.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.read">
<tt class="descname">read</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.refresh_cache_entry">
<tt class="descname">refresh_cache_entry</tt><big>(</big><em>path</em>, <em>contents</em>, <em>modified</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.refresh_cache_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.restart">
<tt class="descname">restart</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.restart" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.set_dirty_cache_entry">
<tt class="descname">set_dirty_cache_entry</tt><big>(</big><em>path</em>, <em>is_dirty</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.set_dirty_cache_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.set_modified_cache_entry">
<tt class="descname">set_modified_cache_entry</tt><big>(</big><em>path</em>, <em>updatetime</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.set_modified_cache_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.sync">
<tt class="descname">sync</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.sync" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.tidy_up">
<tt class="descname">tidy_up</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.tidy_up" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove finished workers and restart unsuccessful delete jobs.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store_sync_thread.StoreSyncThread.write_cache_entry">
<tt class="descname">write_cache_entry</tt><big>(</big><em>path</em>, <em>contents</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store_sync_thread.StoreSyncThread.write_cache_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cloudfusion.store.store">
<span id="the-store-module"></span><h1>The <tt class="xref py py-mod docutils literal"><span class="pre">store</span></tt> Module<a class="headerlink" href="#module-cloudfusion.store.store" title="Permalink to this headline">¶</a></h1>
<p>Created on 08.04.2011</p>
<dl class="exception">
<dt id="cloudfusion.store.store.AlreadyExistsError">
<em class="property">exception </em><tt class="descclassname">cloudfusion.store.store.</tt><tt class="descname">AlreadyExistsError</tt><big>(</big><em>msg</em>, <em>status=0</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.AlreadyExistsError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cloudfusion.store.store.StoreAccessError" title="cloudfusion.store.store.StoreAccessError"><tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.store.store.StoreAccessError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="cloudfusion.store.store.DateParseError">
<em class="property">exception </em><tt class="descclassname">cloudfusion.store.store.</tt><tt class="descname">DateParseError</tt><big>(</big><em>msg</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.DateParseError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
</dd></dl>

<dl class="exception">
<dt id="cloudfusion.store.store.InterruptedException">
<em class="property">exception </em><tt class="descclassname">cloudfusion.store.store.</tt><tt class="descname">InterruptedException</tt><big>(</big><em>msg</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.InterruptedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
</dd></dl>

<dl class="exception">
<dt id="cloudfusion.store.store.InvalidPathValueError">
<em class="property">exception </em><tt class="descclassname">cloudfusion.store.store.</tt><tt class="descname">InvalidPathValueError</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.InvalidPathValueError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.ValueError</span></tt></p>
</dd></dl>

<dl class="exception">
<dt id="cloudfusion.store.store.NoSuchFilesytemObjectError">
<em class="property">exception </em><tt class="descclassname">cloudfusion.store.store.</tt><tt class="descname">NoSuchFilesytemObjectError</tt><big>(</big><em>path</em>, <em>status=0</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.NoSuchFilesytemObjectError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cloudfusion.store.store.StoreAccessError" title="cloudfusion.store.store.StoreAccessError"><tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.store.store.StoreAccessError</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="cloudfusion.store.store.Store">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.store.</tt><tt class="descname">Store</tt><a class="headerlink" href="#cloudfusion.store.store.Store" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Central interface for any cloud storage provider. 
Any cloud storage provider that is used by CloudFusion needs to implement this interface.
After implementing the interface for a new provider, you can add file system access to it by
introducing a new branch to the if statement in <tt class="xref py py-meth docutils literal"><span class="pre">cloudfusion.pyfusebox.configurable_pyfusebox.ConfigurablePyFuseBox.__get_new_store()</span></tt>.
Advanced functionality such as caching and concurrency are supplied by wrappers, which are already implemented.
Path parameters are always absolute paths of a file system, starting with a &#8216;/&#8217;</p>
<dl class="method">
<dt id="cloudfusion.store.store.Store._is_valid_path">
<tt class="descname">_is_valid_path</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store._is_valid_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store._raise_error_if_invalid_path">
<tt class="descname">_raise_error_if_invalid_path</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store._raise_error_if_invalid_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.account_info">
<tt class="descname">account_info</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.account_info" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a human readable string describing account info like provider, name, statistics</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.create_directory">
<tt class="descname">create_directory</tt><big>(</big><em>directory</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.create_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the remote directory <em>directory</em>
:param directory: the absolute path name of the directory to create
:raises: AlreadyExistsError if the directory does already exist:</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.delete">
<tt class="descname">delete</tt><big>(</big><em>path</em>, <em>is_dir</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete file or directory tree at path.
:param path: path to the file or directory to delete
:param is_dir: True iff path points to a directory
:raises:[Errno 39] Directory not empty:</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.duplicate">
<tt class="descname">duplicate</tt><big>(</big><em>path_to_src</em>, <em>path_to_dest</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.duplicate" title="Permalink to this definition">¶</a></dt>
<dd><p>Duplicate file or directory from <em>path_to_src</em> to <em>path_to_dest</em>.
If <em>path_to_dest</em> exists before, it is deleted or overwritten.
If <em>path_to_src</em> is a directory, the directory is duplicated with all its files and directories.
Either this method or <a class="reference internal" href="#cloudfusion.store.store.Store.move" title="cloudfusion.store.store.Store.move"><tt class="xref py py-meth docutils literal"><span class="pre">move()</span></tt></a> needs to be implemented in a subclass.
:param path_to_src: must never be the same as <em>path_to_dest</em>
:param path_to_dest: must end in the name of the child directory or the file specified by <em>path_to_src</em></p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.exists">
<tt class="descname">exists</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.exists" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if a remote file or directory exists at <em>path</em>, and False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.get_bytes">
<tt class="descname">get_bytes</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.get_bytes" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the number of bytes of the file at <em>path</em>, or 0 if <em>path</em> is a directory</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.get_configuration">
<tt class="descname">get_configuration</tt><big>(</big><em>config</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.get_configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Get configuration options during runtime.
The method is normally called by <a class="reference internal" href="pyfusebox.html#cloudfusion.pyfusebox.configurable_pyfusebox.ConfigurablePyFuseBox" title="cloudfusion.pyfusebox.configurable_pyfusebox.ConfigurablePyFuseBox"><tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.pyfusebox.configurable_pyfusebox.ConfigurablePyFuseBox</span></tt></a>,
when the user reads CloudFusion&#8217;s configuration file in /config/config.
It can return a dictionary with variables to display in /config/config. 
:returns: a dictionary with variable names and corresponsing values</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.get_directory_listing">
<tt class="descname">get_directory_listing</tt><big>(</big><em>directory</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.get_directory_listing" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of absolute file paths of files in <em>directory</em></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.get_file">
<tt class="descname">get_file</tt><big>(</big><em>path_to_file</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.get_file" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the data of the remote file at <em>path_to_file</em> as a string</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">NoSuchFilesytemObjectError if the object does not exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.get_free_space">
<tt class="descname">get_free_space</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.get_free_space" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">free space in bytes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.get_logging_handler">
<tt class="descname">get_logging_handler</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.get_logging_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name of the logging handler used by a subclass, so that the wrappers may use the same logger.
Wrappers are responsible for extended functionality like caching data or concurrency i.e. <a class="reference internal" href="#cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore" title="cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore"><tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.store.transparent_caching_store.TransparentMultiprocessingCachingStore</span></tt></a>.
This method might simply return <a class="reference internal" href="#cloudfusion.store.store.Store.get_name" title="cloudfusion.store.store.Store.get_name"><tt class="xref py py-meth docutils literal"><span class="pre">get_name()</span></tt></a>, even if the subclass does not use a logger.
:return: the name of the logging handler used by a subclass and its wrappers.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.get_max_filesize">
<tt class="descname">get_max_filesize</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.get_max_filesize" title="Permalink to this definition">¶</a></dt>
<dd><p>Return maximum number of bytes per file; Some cloud storages limit the size of files to be uploaded.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.get_metadata">
<tt class="descname">get_metadata</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is a hook that must be implemented by subclasses. 
If it is implemented, the methods <a class="reference internal" href="#cloudfusion.store.store.Store.exists" title="cloudfusion.store.store.Store.exists"><tt class="xref py py-meth docutils literal"><span class="pre">exists()</span></tt></a>, <a class="reference internal" href="#cloudfusion.store.store.Store.get_bytes" title="cloudfusion.store.store.Store.get_bytes"><tt class="xref py py-meth docutils literal"><span class="pre">get_bytes()</span></tt></a>, <a class="reference internal" href="#cloudfusion.store.store.Store.is_dir" title="cloudfusion.store.store.Store.is_dir"><tt class="xref py py-meth docutils literal"><span class="pre">is_dir()</span></tt></a> work out of the box.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the keys &#8216;modified&#8217;, &#8216;bytes&#8217; and &#8216;is_dir&#8217; containing the corresponding metadata for <em>path</em></td>
</tr>
</tbody>
</table>
<p>The value for &#8216;modified&#8217; is a date in seconds, stating when the object corresponding to <em>path</em> was last modified.  
The value for &#8216;bytes&#8217; is the number of bytes of the object corresponding to <em>path</em>. It is 0 if the object is a directory.
The value for &#8216;is_dir&#8217; is True if the object is a directory and False otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">NoSuchFilesytemObjectError if the object does not exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.get_modified">
<tt class="descname">get_modified</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.get_modified" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the time <em>path</em> was modified in seconds from the epoche</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.get_name">
<tt class="descname">get_name</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.get_name" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the name of the service; i.e. Amazon S3, or Dropbox</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.get_overall_space">
<tt class="descname">get_overall_space</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.get_overall_space" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">overall space in bytes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.get_used_space">
<tt class="descname">get_used_space</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.get_used_space" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">space used by files in bytes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.is_dir">
<tt class="descname">is_dir</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.is_dir" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if <em>path</em> is a remote file, and False if it is a remote directory</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">NoSuchFilesytemObjectError if the remote object does not exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.move">
<tt class="descname">move</tt><big>(</big><em>path_to_src</em>, <em>path_to_dest</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.move" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename a remote file or directory <em>path_to_src</em> to <em>path_to_dest</em>. 
If <em>path_to_dest</em> exists before, it is deleted or overwritten.
If <em>path_to_src</em> is a directory, the directory is renamed to <em>path_to_dest</em>.
Default implementation relies on an implementation of <a class="reference internal" href="#cloudfusion.store.store.Store.duplicate" title="cloudfusion.store.store.Store.duplicate"><tt class="xref py py-meth docutils literal"><span class="pre">duplicate()</span></tt></a> in a subclass, but it should be overwritten.
Either this method or <a class="reference internal" href="#cloudfusion.store.store.Store.duplicate" title="cloudfusion.store.store.Store.duplicate"><tt class="xref py py-meth docutils literal"><span class="pre">duplicate()</span></tt></a> needs to be implemented in a subclass.
:param path_to_src: path to a remote file or directory
:param path_to_dest: path of the new remote file or directory</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.reconnect">
<tt class="descname">reconnect</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.reconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to reconnect to the service.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.set_configuration">
<tt class="descname">set_configuration</tt><big>(</big><em>config</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.set_configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Set configuration options during runtime.
The method is normally called by <a class="reference internal" href="pyfusebox.html#cloudfusion.pyfusebox.configurable_pyfusebox.ConfigurablePyFuseBox" title="cloudfusion.pyfusebox.configurable_pyfusebox.ConfigurablePyFuseBox"><tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.pyfusebox.configurable_pyfusebox.ConfigurablePyFuseBox</span></tt></a>,
when the user changes CloudFusion&#8217;s configuration file in /config/config. 
:param config: a dictionary with configuration options</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.store_file">
<tt class="descname">store_file</tt><big>(</big><em>path_to_file</em>, <em>dest_dir='/'</em>, <em>remote_file_name=None</em>, <em>interrupt_event=None</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.store_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Store the local file <em>path_to_file</em> to directory <em>dest_dir</em> on the store.
:param path_to_file: local file path
:param dest_dir: remote destination directory to store the contents of the local file to
:param remote_file_name: the file name on the store; by default this is the original file name if this parameter is None.
:param interrupt_event: (optional) If the value is not None, listen for an interrupt event with with interrupt_event.wait()         until the file has been stored. Abort the upload if interrupt_event.wait() returns.
:returns: (optional) the date in seconds, when the file was updated</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.store.Store.store_fileobject">
<tt class="descname">store_fileobject</tt><big>(</big><em>fileobject</em>, <em>path</em>, <em>interrupt_event=None</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.Store.store_fileobject" title="Permalink to this definition">¶</a></dt>
<dd><p>Store the contents of <em>fileobject</em> to <em>path</em> on the store.
:param fileobject: A file like object. The position of the fileobject needs to be at 0 (use fileobject.seek(0) before calling this method)
:param path: The remote file path to store the contents of fileobject to
:param interrupt_event: (optional) If the value is not None, listen for an interrupt event with with interrupt_event.wait()         until the file has been stored. Abort the upload if interrupt_event.wait() returns.
:returns: (optional) the date in seconds, when the file was updated</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="cloudfusion.store.store.StoreAccessError">
<em class="property">exception </em><tt class="descclassname">cloudfusion.store.store.</tt><tt class="descname">StoreAccessError</tt><big>(</big><em>msg</em>, <em>status=0</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.StoreAccessError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
</dd></dl>

<dl class="exception">
<dt id="cloudfusion.store.store.StoreAutorizationError">
<em class="property">exception </em><tt class="descclassname">cloudfusion.store.store.</tt><tt class="descname">StoreAutorizationError</tt><big>(</big><em>msg</em>, <em>status=0</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.StoreAutorizationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cloudfusion.store.store.StoreAccessError" title="cloudfusion.store.store.StoreAccessError"><tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.store.store.StoreAccessError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="cloudfusion.store.store.StoreSpaceLimitError">
<em class="property">exception </em><tt class="descclassname">cloudfusion.store.store.</tt><tt class="descname">StoreSpaceLimitError</tt><big>(</big><em>msg=''</em>, <em>status=0</em><big>)</big><a class="headerlink" href="#cloudfusion.store.store.StoreSpaceLimitError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cloudfusion.store.store.StoreAccessError" title="cloudfusion.store.store.StoreAccessError"><tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.store.store.StoreAccessError</span></tt></a></p>
</dd></dl>

</div>
<div class="section" id="module-cloudfusion.store.metadata_caching_store">
<span id="the-metadata-caching-store-module"></span><h1>The <tt class="xref py py-mod docutils literal"><span class="pre">metadata_caching_store</span></tt> Module<a class="headerlink" href="#module-cloudfusion.store.metadata_caching_store" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cloudfusion.store.metadata_caching_store.Entry">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.metadata_caching_store.</tt><tt class="descname">Entry</tt><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.Entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.Entry.add_to_listing">
<tt class="descname">add_to_listing</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.Entry.add_to_listing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.Entry.remove_from_listing">
<tt class="descname">remove_from_listing</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.Entry.remove_from_listing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.Entry.set_is_dir">
<tt class="descname">set_is_dir</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.Entry.set_is_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.Entry.set_is_file">
<tt class="descname">set_is_file</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.Entry.set_is_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.Entry.set_modified">
<tt class="descname">set_modified</tt><big>(</big><em>modified=None</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.Entry.set_modified" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.metadata_caching_store.</tt><tt class="descname">MetadataCachingStore</tt><big>(</big><em>store</em>, <em>cache_expiration_time=60</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cloudfusion.store.store.Store" title="cloudfusion.store.store.Store"><tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.store.store.Store</span></tt></a></p>
<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore._MetadataCachingStore__clean_cache">
<tt class="descname">_MetadataCachingStore__clean_cache</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore._MetadataCachingStore__clean_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all expired cache entries only if last called 
after <em>cache_expiration_time</em> seconds as defined in the constructor.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore._acquire_uploading_lock">
<tt class="descname">_acquire_uploading_lock</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore._acquire_uploading_lock" title="Permalink to this definition">¶</a></dt>
<dd><p>This method needs to be called before uploading data.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore._add_existing_items">
<tt class="descname">_add_existing_items</tt><big>(</big><em>dir_entry</em>, <em>dir_entry_path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore._add_existing_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Add existing files or directories to <em>dir_entry</em> because they might have been 
uploaded recently and might not be retrievable by a directory listing from the storage provider.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore._add_parent_dir_listing">
<tt class="descname">_add_parent_dir_listing</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore._add_parent_dir_listing" title="Permalink to this definition">¶</a></dt>
<dd><p>Add listing for parent directory of path to cache if it does not yet exist</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore._add_to_parent_dir_listing">
<tt class="descname">_add_to_parent_dir_listing</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore._add_to_parent_dir_listing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore._does_not_exist_in_parent_dir_listing">
<tt class="descname">_does_not_exist_in_parent_dir_listing</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore._does_not_exist_in_parent_dir_listing" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;:returns: True if path does not exist in the cached directory listing</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore._is_valid_path">
<tt class="descname">_is_valid_path</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore._is_valid_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore._prefetch_directory">
<tt class="descname">_prefetch_directory</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore._prefetch_directory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore._prepare_entry">
<tt class="descname">_prepare_entry</tt><big>(</big><em>path</em>, <em>metadata</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore._prepare_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore._raise_error_if_invalid_path">
<tt class="descname">_raise_error_if_invalid_path</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore._raise_error_if_invalid_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore._release_uploading_lock">
<tt class="descname">_release_uploading_lock</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore._release_uploading_lock" title="Permalink to this definition">¶</a></dt>
<dd><p>This method needs to be called after uploading data.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore._remove_from_parent_dir_listing">
<tt class="descname">_remove_from_parent_dir_listing</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore._remove_from_parent_dir_listing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.account_info">
<tt class="descname">account_info</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.account_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.clean_expired_cache_entries">
<tt class="descname">clean_expired_cache_entries</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.clean_expired_cache_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all expired cache entries iff no upload is going on.
:returns: True iff the cache could be cleaned.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.create_directory">
<tt class="descname">create_directory</tt><big>(</big><em>directory</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.create_directory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.delete">
<tt class="descname">delete</tt><big>(</big><em>path</em>, <em>is_dir</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.duplicate">
<tt class="descname">duplicate</tt><big>(</big><em>path_to_src</em>, <em>path_to_dest</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.duplicate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.exists">
<tt class="descname">exists</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.exists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_bytes">
<tt class="descname">get_bytes</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_bytes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_configuration">
<tt class="descname">get_configuration</tt><big>(</big><em>config</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_configuration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_directory_listing">
<tt class="descname">get_directory_listing</tt><big>(</big><em>directory</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_directory_listing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_file">
<tt class="descname">get_file</tt><big>(</big><em>path_to_file</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_free_space">
<tt class="descname">get_free_space</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_free_space" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_logging_handler">
<tt class="descname">get_logging_handler</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_logging_handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_max_filesize">
<tt class="descname">get_max_filesize</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_max_filesize" title="Permalink to this definition">¶</a></dt>
<dd><p>Return maximum number of bytes per file</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_metadata">
<tt class="descname">get_metadata</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>As a side effect cleans expired cache entries from time to time</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_modified">
<tt class="descname">get_modified</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_modified" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_name">
<tt class="descname">get_name</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_overall_space">
<tt class="descname">get_overall_space</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_overall_space" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_used_space">
<tt class="descname">get_used_space</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.get_used_space" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.is_dir">
<tt class="descname">is_dir</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.is_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.move">
<tt class="descname">move</tt><big>(</big><em>path_to_src</em>, <em>path_to_dest</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.move" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.set_configuration">
<tt class="descname">set_configuration</tt><big>(</big><em>config</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.set_configuration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.store_file">
<tt class="descname">store_file</tt><big>(</big><em>path_to_file</em>, <em>dest_dir='/'</em>, <em>remote_file_name=None</em>, <em>interrupt_event=None</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.store_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.metadata_caching_store.MetadataCachingStore.store_fileobject">
<tt class="descname">store_fileobject</tt><big>(</big><em>fileobject</em>, <em>path</em>, <em>interrupt_event=None</em><big>)</big><a class="headerlink" href="#cloudfusion.store.metadata_caching_store.MetadataCachingStore.store_fileobject" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cloudfusion.store.chunk_store_worker">
<span id="the-chunk-store-worker-module"></span><h1>The <tt class="xref py py-mod docutils literal"><span class="pre">chunk_store_worker</span></tt> Module<a class="headerlink" href="#module-cloudfusion.store.chunk_store_worker" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cloudfusion.store.chunk_store_worker.ChunkWriteWorker">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.chunk_store_worker.</tt><tt class="descname">ChunkWriteWorker</tt><big>(</big><em>store</em>, <em>chunk_dir</em>, <em>chunk_uuid</em>, <em>chunk</em>, <em>filepaths</em>, <em>pool</em>, <em>logger</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_worker.ChunkWriteWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cloudfusion.store.store_worker.WriteWorker" title="cloudfusion.store.store_worker.WriteWorker"><tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.store.store_worker.WriteWorker</span></tt></a></p>
</dd></dl>

</div>
<div class="section" id="module-cloudfusion.store.chunk_store_sync_thread">
<span id="the-chunk-store-sync-thread-module"></span><h1>The <tt class="xref py py-mod docutils literal"><span class="pre">chunk_store_sync_thread</span></tt> Module<a class="headerlink" href="#module-cloudfusion.store.chunk_store_sync_thread" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cloudfusion.store.chunk_store_sync_thread.Archive">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.chunk_store_sync_thread.</tt><tt class="descname">Archive</tt><big>(</big><em>directory</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.Archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Archive representation used in ChunkFactory</p>
</dd></dl>

<dl class="class">
<dt id="cloudfusion.store.chunk_store_sync_thread.Chunk">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.chunk_store_sync_thread.</tt><tt class="descname">Chunk</tt><big>(</big><em>parent_dir</em>, <em>fileobject</em>, <em>filepaths</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.Chunk" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Chunk representation:
:param parent_dir: directory location to store the chunk
:param fileobject: file in the local file system with its location in fileobject.name
:param filepaths: list of paths of files in the chunk</p>
</dd></dl>

<dl class="class">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkFactory">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.chunk_store_sync_thread.</tt><tt class="descname">ChunkFactory</tt><big>(</big><em>logger</em>, <em>max_time_to_upload=200</em>, <em>max_chunk_size=4</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Factory that returns added files packed together as archives, if they are in the same directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>max_time_to_upload</strong> &#8211; time in seconds until the chunkfactory returns a file inside a chunk after the file has been added to it</li>
<li><strong>max_chunk_size</strong> &#8211; size of the chunk in MB that should not be exceeded when packing several files together</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkFactory._create_archive">
<tt class="descname">_create_archive</tt><big>(</big><em>archive</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkFactory._create_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an actual tar archive in the file system.
:returns: fileobject with path of the tar archive in the file system in the name property</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkFactory._get_archive">
<tt class="descname">_get_archive</tt><big>(</big><em>filepath</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkFactory._get_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the archive to store filepath in, creating a new one if it does not exist.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkFactory._is_complete">
<tt class="descname">_is_complete</tt><big>(</big><em>archive</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkFactory._is_complete" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True iff the archive is ready to be uploaded</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkFactory._swap_out_completed_archives">
<tt class="descname">_swap_out_completed_archives</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkFactory._swap_out_completed_archives" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks for all archives if they are ready to be uploaded, 
and swap them to self.completed_archives</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkFactory.add">
<tt class="descname">add</tt><big>(</big><em>local_file</em>, <em>filepath</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkFactory.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new file to the chunk factory. 
:param local_file: fileobject with its absolute path in property name
:param filepath: the filepath that local_file should be stored to in the wrapped store</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkFactory.force_get_all_chunks">
<tt class="descname">force_get_all_chunks</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkFactory.force_get_all_chunks" title="Permalink to this definition">¶</a></dt>
<dd><p>Force the factory to return chunks for all added files, ignoring max_time_to_upload, and max_chunk_size.
:returns: a list of Chunk instances or an empty list if no chunk is available</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkFactory.get_new_chunk">
<tt class="descname">get_new_chunk</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkFactory.get_new_chunk" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a chunk, if one is ready for upload according to max_time_to_upload, and max_chunk_size.
The chunk file returned needs to be deleted if it is not used anymore. It is stored in chunk.name
The list is removed from the list of archives that are ready to be uploaded.       
:returns: Instance of Chunk or None if no chunk is available.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkFactory.get_size_of_next_chunk">
<tt class="descname">get_size_of_next_chunk</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkFactory.get_size_of_next_chunk" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">size in bytes of the next chunk returned by <a class="reference internal" href="#cloudfusion.store.chunk_store_sync_thread.ChunkFactory.get_new_chunk" title="cloudfusion.store.chunk_store_sync_thread.ChunkFactory.get_new_chunk"><tt class="xref py py-meth docutils literal"><span class="pre">get_new_chunk()</span></tt></a> or 0 if there is none.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkFactory.in_progress">
<tt class="descname">in_progress</tt><big>(</big><em>filepath</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkFactory.in_progress" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkFactory.remove">
<tt class="descname">remove</tt><big>(</big><em>filepath</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkFactory.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes added file if possible.
:returns: True iff the file could be removed</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.chunk_store_sync_thread.</tt><tt class="descname">ChunkStoreSyncThread</tt><big>(</big><em>cache</em>, <em>store</em>, <em>temp_dir</em>, <em>logger</em>, <em>max_writer_threads=30</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Synchronizes between cache and store</p>
<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._ChunkStoreSyncThread__sleep">
<tt class="descname">_ChunkStoreSyncThread__sleep</tt><big>(</big><em>seconds</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._ChunkStoreSyncThread__sleep" title="Permalink to this definition">¶</a></dt>
<dd><p>Sleep until <em>seconds</em> have passed since last call</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._acquire_two_locks">
<tt class="descname">_acquire_two_locks</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._acquire_two_locks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._check_for_failed_writers">
<tt class="descname">_check_for_failed_writers</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._check_for_failed_writers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._garbage_collect_chunks">
<tt class="descname">_garbage_collect_chunks</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._garbage_collect_chunks" title="Permalink to this definition">¶</a></dt>
<dd><p>Garbage collect stale chunks</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._get_max_threads">
<tt class="descname">_get_max_threads</tt><big>(</big><em>size_in_mb</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._get_max_threads" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the number of upload worker threads that should be used</td>
</tr>
</tbody>
</table>
<p>according to the the file size and the average time needed to upload a file.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._get_reader">
<tt class="descname">_get_reader</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._get_reader" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">active reader that uploads path or None if there is no such writer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._get_time_to_sleep">
<tt class="descname">_get_time_to_sleep</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._get_time_to_sleep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._get_writer">
<tt class="descname">_get_writer</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._get_writer" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">active writer that uploads path or None if there is no such writer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._reconnect">
<tt class="descname">_reconnect</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._reconnect" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._release_two_locks">
<tt class="descname">_release_two_locks</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._release_two_locks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._remove_finished_readers">
<tt class="descname">_remove_finished_readers</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._remove_finished_readers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._remove_finished_writers">
<tt class="descname">_remove_finished_writers</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._remove_finished_writers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._remove_sleeping_writers">
<tt class="descname">_remove_sleeping_writers</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._remove_sleeping_writers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._remove_successful_removers">
<tt class="descname">_remove_successful_removers</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._remove_successful_removers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._restart_unsuccessful_removers">
<tt class="descname">_restart_unsuccessful_removers</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread._restart_unsuccessful_removers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.blocking_read">
<tt class="descname">blocking_read</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.blocking_read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.delete">
<tt class="descname">delete</tt><big>(</big><em>path</em>, <em>is_dir</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete path from the remote store.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.delete_cache_entry">
<tt class="descname">delete_cache_entry</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.delete_cache_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.duplicate">
<tt class="descname">duplicate</tt><big>(</big><em>path_to_src</em>, <em>path_to_dest</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.duplicate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.enqueue_dirty_entries">
<tt class="descname">enqueue_dirty_entries</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.enqueue_dirty_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Start new writer jobs with dirty cache entries to synchronize <em>all</em> files.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.enqueue_lru_entries">
<tt class="descname">enqueue_lru_entries</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.enqueue_lru_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Start new writer jobs with expired least recently used cache entries.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.get_download_rate">
<tt class="descname">get_download_rate</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.get_download_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Get download rate in MB/s</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.get_downloaded">
<tt class="descname">get_downloaded</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.get_downloaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Get amount of data downloaded from a store in MB</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.get_exception_stats">
<tt class="descname">get_exception_stats</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.get_exception_stats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.get_upload_rate">
<tt class="descname">get_upload_rate</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.get_upload_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Get upload rate in MB/s</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.get_uploaded">
<tt class="descname">get_uploaded</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.get_uploaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Get amount of data uploaded to a store in MB</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.is_cached_version_invalid">
<tt class="descname">is_cached_version_invalid</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.is_cached_version_invalid" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the stores version is newer than the cached entry or does not exist and False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.is_in_progress">
<tt class="descname">is_in_progress</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.is_in_progress" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True iff <em>path</em> is currently uploaded or being removed</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.last_heartbeat">
<tt class="descname">last_heartbeat</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.last_heartbeat" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;Get time since last heartbeat in seconds.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.read">
<tt class="descname">read</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.refresh_cache_entry">
<tt class="descname">refresh_cache_entry</tt><big>(</big><em>path</em>, <em>contents</em>, <em>modified</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.refresh_cache_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.restart">
<tt class="descname">restart</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.restart" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.set_dirty_cache_entry">
<tt class="descname">set_dirty_cache_entry</tt><big>(</big><em>path</em>, <em>is_dirty</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.set_dirty_cache_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.set_modified_cache_entry">
<tt class="descname">set_modified_cache_entry</tt><big>(</big><em>path</em>, <em>updatetime</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.set_modified_cache_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.sync">
<tt class="descname">sync</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.sync" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.tidy_up">
<tt class="descname">tidy_up</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.tidy_up" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove finished workers and restart unsuccessful delete jobs.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.write_cache_entry">
<tt class="descname">write_cache_entry</tt><big>(</big><em>path</em>, <em>contents</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.ChunkStoreSyncThread.write_cache_entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.chunk_store_sync_thread.</tt><tt class="descname">PersistentChunkMapper</tt><big>(</big><em>temp_dir</em>, <em>logger</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Persistently maps between chunk names and filepaths of files in the chunk</p>
<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper._PersistentChunkMapper__num_to_alpha">
<tt class="descname">_PersistentChunkMapper__num_to_alpha</tt><big>(</big><em>num</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper._PersistentChunkMapper__num_to_alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>From: <a class="reference external" href="http://stackoverflow.com/questions/10326118/encoding-a-numeric-string-into-a-shortened-alphanumeric-string-and-back-again">http://stackoverflow.com/questions/10326118/encoding-a-numeric-string-into-a-shortened-alphanumeric-string-and-back-again</a></p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper._close">
<tt class="descname">_close</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper._close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper.add_aliases">
<tt class="descname">add_aliases</tt><big>(</big><em>chunk_uuid</em>, <em>alias_filepaths</em>, <em>new_alias_filepaths</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper.add_aliases" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an alias of a file in the chunk with id chunk_uuid</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper.get_chunk_uuid">
<tt class="descname">get_chunk_uuid</tt><big>(</big><em>filepath</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper.get_chunk_uuid" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the uuid of the chunk that filepath is stored in or None if it does not exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper.get_empty_chunks">
<tt class="descname">get_empty_chunks</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper.get_empty_chunks" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">chunks for garbage collection</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper.get_files_in_chunk">
<tt class="descname">get_files_in_chunk</tt><big>(</big><em>chunk_name</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper.get_files_in_chunk" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>chunk_name</strong> &#8211; absolute path to the chunk</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of absolute filepaths for files in the chunk</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper.get_next_chunk_uuid">
<tt class="descname">get_next_chunk_uuid</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper.get_next_chunk_uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>Get globally unique identifier for the next chunk</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper.iterate_files_from_chunk">
<tt class="descname">iterate_files_from_chunk</tt><big>(</big><em>chunk_content</em>, <em>chunk_id</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper.iterate_files_from_chunk" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>chunk_content</strong> &#8211; raw chunk content</li>
<li><strong>chunk_id</strong> &#8211; unique id of the chunk</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a generator iterating over the file is the chunk</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper.put">
<tt class="descname">put</tt><big>(</big><em>chunk_uuid</em>, <em>filepaths</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a chunk mapping between chunk_uuid and filepaths</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper.remove_file">
<tt class="descname">remove_file</tt><big>(</big><em>filepath</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.PersistentChunkMapper.remove_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove filepath from the mapping.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="cloudfusion.store.chunk_store_sync_thread.get_parent_dir">
<tt class="descclassname">cloudfusion.store.chunk_store_sync_thread.</tt><tt class="descname">get_parent_dir</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_store_sync_thread.get_parent_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-cloudfusion.store.chunk_caching_store">
<span id="the-chunk-caching-store-module"></span><h1>The <tt class="xref py py-mod docutils literal"><span class="pre">chunk_caching_store</span></tt> Module<a class="headerlink" href="#module-cloudfusion.store.chunk_caching_store" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.chunk_caching_store.</tt><tt class="descname">ChunkMultiprocessingCachingStore</tt><big>(</big><em>store</em>, <em>cache_expiration_time=60</em>, <em>cache_size_in_mb=2000</em>, <em>cache_id=None</em>, <em>max_archive_size_in_mb=4</em>, <em>cache_dir='/tmp/cloudfusion'</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cloudfusion.store.store.Store" title="cloudfusion.store.store.Store"><tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.store.store.Store</span></tt></a></p>
<p>Puts small files into an archive, to upload and download them together. Garbage collects archives with stale contents.
Employs multiple threads for increased throughput. Therefore, it can only use stores with a thread-safe put_file method.
Write operations do not block for transfer, until the cache size limit is reached.
No write operations on the wrapped store are invoked until a cached item expires.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>store</strong> &#8211; the store whose access should be cached</li>
<li><strong>max_archive_size_in_mb</strong> &#8211; the maximum size of an archive</li>
<li><strong>cache_expiration_time</strong> &#8211; the time in seconds until any cache entry is expired</li>
<li><strong>cache_size_in_mb</strong> &#8211; Approximate (soft) limit of the cache in MB.</li>
<li><strong>hard_cache_size_limit_in_mb</strong> &#8211; Hard limit of the cache in MB, exceeding this limit should slow down write operations.</li>
<li><strong>cache_id</strong> &#8211; Serves as identifier for a persistent cache instance.</li>
<li><strong>cache_dir</strong> &#8211; Cache directory on local hard drive disk, default value is <em>/tmp/cloudfusion</em>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore._is_valid_path">
<tt class="descname">_is_valid_path</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore._is_valid_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore._raise_error_if_invalid_path">
<tt class="descname">_raise_error_if_invalid_path</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore._raise_error_if_invalid_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore._refresh_cache">
<tt class="descname">_refresh_cache</tt><big>(</big><em>path_to_file</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore._refresh_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Reloads the locally cached file <em>path_to_file</em> from the wrapped store.
Currently only retrieves files from store if they are not cached.
#TODO: implement file version resolution over different sessions.  
#:raises: NoSuchFilesytemObjectError if file does not exist in wrapped store.</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.account_info">
<tt class="descname">account_info</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.account_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.create_directory">
<tt class="descname">create_directory</tt><big>(</big><em>directory</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.create_directory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.delete">
<tt class="descname">delete</tt><big>(</big><em>path</em>, <em>is_dir</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.duplicate">
<tt class="descname">duplicate</tt><big>(</big><em>path_to_src</em>, <em>path_to_dest</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.duplicate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.exists">
<tt class="descname">exists</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.exists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_bytes">
<tt class="descname">get_bytes</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_bytes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_cache_expiration_time">
<tt class="descname">get_cache_expiration_time</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_cache_expiration_time" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the time in seconds until any cache entry is expired</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_configuration">
<tt class="descname">get_configuration</tt><big>(</big><em>config</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_configuration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_directory_listing">
<tt class="descname">get_directory_listing</tt><big>(</big><em>directory</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_directory_listing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_file">
<tt class="descname">get_file</tt><big>(</big><em>path_to_file</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_file" title="Permalink to this definition">¶</a></dt>
<dd><p>If the file was updated in the wrapped store, then its content in the cache will be updated if its entry is expired but not dirty.
:returns: string &#8211; the data of the file with the path <em>path_to_file</em></p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_free_space">
<tt class="descname">get_free_space</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_free_space" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_logging_handler">
<tt class="descname">get_logging_handler</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_logging_handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_max_archive_size">
<tt class="descname">get_max_archive_size</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_max_archive_size" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the maximum size of an archive in MB</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_max_filesize">
<tt class="descname">get_max_filesize</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_max_filesize" title="Permalink to this definition">¶</a></dt>
<dd><p>Return maximum number of bytes per file</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_metadata">
<tt class="descname">get_metadata</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_modified">
<tt class="descname">get_modified</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_modified" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_name">
<tt class="descname">get_name</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_overall_space">
<tt class="descname">get_overall_space</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_overall_space" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_used_space">
<tt class="descname">get_used_space</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.get_used_space" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.is_dir">
<tt class="descname">is_dir</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.is_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.reconnect">
<tt class="descname">reconnect</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.reconnect" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.set_configuration">
<tt class="descname">set_configuration</tt><big>(</big><em>config</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.set_configuration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.set_max_archive_size">
<tt class="descname">set_max_archive_size</tt><big>(</big><em>max_archive_size_in_mb</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.set_max_archive_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the maximum size of an archive in MB</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.store_file">
<tt class="descname">store_file</tt><big>(</big><em>path_to_file</em>, <em>dest_dir='/'</em>, <em>remote_file_name=None</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.store_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.store_fileobject">
<tt class="descname">store_fileobject</tt><big>(</big><em>fileobject</em>, <em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.chunk_caching_store.ChunkMultiprocessingCachingStore.store_fileobject" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores a fileobject to the <a class="reference internal" href="util.html#cloudfusion.util.cache.Cache" title="cloudfusion.util.cache.Cache"><tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.util.cache.Cache</span></tt></a> and if the existing fileobject has expired it is also written to the wrapped store.
The cached file&#8217;s updated and modified attributes will be reset to the current point of time.
The cached file&#8217;s dirty flag is set to False if the entry has expired and was hence written to the store. Otherwise it is set to True.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fileobject</strong> &#8211; The file object with the method read() returning data as a string</li>
<li><strong>path</strong> &#8211; The path where the file object&#8217;s data should be stored, including the filename</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cloudfusion.store.caching_store">
<span id="the-caching-store-module"></span><h1>The <tt class="xref py py-mod docutils literal"><span class="pre">caching_store</span></tt> Module<a class="headerlink" href="#module-cloudfusion.store.caching_store" title="Permalink to this headline">¶</a></h1>
<p>Created on Jun 10, 2013</p>
<p>&#64;author: joe</p>
<dl class="class">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.caching_store.</tt><tt class="descname">MultiprocessingCachingStore</tt><big>(</big><em>store</em>, <em>cache_expiration_time=60</em>, <em>cache_size_in_mb=2000</em>, <em>cache_id=None</em>, <em>cache_dir='/tmp/cloudfusion/'</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cloudfusion.store.store.Store" title="cloudfusion.store.store.Store"><tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.store.store.Store</span></tt></a></p>
<p>Like CachingStore, but does not make guarantees as to the consistency of the wrapped store.
Use of best effort strategy to synchronize the store.
Employs multiple threads for increased throughput. Therefore, it can only use stores with a thread-safe put_file method.
Unlike CachingStore, guarantees that write operations do not block for transfer, until the cache size limit is reached.
Unlike CachingStore, guarantees that no write operations on the wrapped store are invoked until a cached item expires.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>store</strong> &#8211; the store whose access should be cached</li>
<li><strong>cache_expiration_time</strong> &#8211; the time in seconds until any cache entry is expired</li>
<li><strong>cache_size_in_mb</strong> &#8211; Approximate limit of the cache in MB.</li>
<li><strong>cache_id</strong> &#8211; Serves as identifier for a persistent cache instance.</li>
<li><strong>cache_dir</strong> &#8211; Cache directory on local hard drive disk, default value is <em>/tmp/cloudfusion</em>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore._get_actual_modified_date">
<tt class="descname">_get_actual_modified_date</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore._get_actual_modified_date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore._is_valid_path">
<tt class="descname">_is_valid_path</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore._is_valid_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore._raise_error_if_invalid_path">
<tt class="descname">_raise_error_if_invalid_path</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore._raise_error_if_invalid_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore._refresh_cache">
<tt class="descname">_refresh_cache</tt><big>(</big><em>path_to_file</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore._refresh_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Reloads the locally cached file <em>path_to_file</em> from the wrapped store, if the wrapped store version is newer.
The cached file&#8217;s last updated time is set to the current point of time.
Makes a new cache entry if it does not exist yet.
If the file was changed in the wrapped store after the cached file&#8217;s modified time, the cached file...</p>
<ul class="simple">
<li>is updated with the contents of the file in the wrapped store</li>
<li>is set to not dirty</li>
<li>gets the modified time stamp of the file of the wrapped stores</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">NoSuchFilesytemObjectError if file does not exist in wrapped store.</td>
</tr>
</tbody>
</table>
<p>TODO: exception raising does not work and needs to be implemented</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.account_info">
<tt class="descname">account_info</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.account_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.create_directory">
<tt class="descname">create_directory</tt><big>(</big><em>directory</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.create_directory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.delete">
<tt class="descname">delete</tt><big>(</big><em>path</em>, <em>is_dir</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.duplicate">
<tt class="descname">duplicate</tt><big>(</big><em>path_to_src</em>, <em>path_to_dest</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.duplicate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.exists">
<tt class="descname">exists</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.exists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.get_bytes">
<tt class="descname">get_bytes</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.get_bytes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.get_cache_expiration_time">
<tt class="descname">get_cache_expiration_time</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.get_cache_expiration_time" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the time in seconds until any cache entry is expired</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.get_configuration">
<tt class="descname">get_configuration</tt><big>(</big><em>config</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.get_configuration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.get_directory_listing">
<tt class="descname">get_directory_listing</tt><big>(</big><em>directory</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.get_directory_listing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.get_file">
<tt class="descname">get_file</tt><big>(</big><em>path_to_file</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.get_file" title="Permalink to this definition">¶</a></dt>
<dd><p>If the file was updated in the wrapped store, then its content in the cache will be updated if its entry is expired but not dirty.
:returns: string &#8211; the data of the file with the path <em>path_to_file</em></p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.get_free_space">
<tt class="descname">get_free_space</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.get_free_space" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.get_logging_handler">
<tt class="descname">get_logging_handler</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.get_logging_handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.get_max_filesize">
<tt class="descname">get_max_filesize</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.get_max_filesize" title="Permalink to this definition">¶</a></dt>
<dd><p>Return maximum number of bytes per file</p>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.get_metadata">
<tt class="descname">get_metadata</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.get_modified">
<tt class="descname">get_modified</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.get_modified" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.get_name">
<tt class="descname">get_name</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.get_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.get_overall_space">
<tt class="descname">get_overall_space</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.get_overall_space" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.get_used_space">
<tt class="descname">get_used_space</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.get_used_space" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.is_cached_version_invalid">
<tt class="descname">is_cached_version_invalid</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.is_cached_version_invalid" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if the stores version is newer than the cached entry or does not exist and False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.is_dir">
<tt class="descname">is_dir</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.is_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.move">
<tt class="descname">move</tt><big>(</big><em>path_to_src</em>, <em>path_to_dest</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.move" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.reconnect">
<tt class="descname">reconnect</tt><big>(</big><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.reconnect" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.set_configuration">
<tt class="descname">set_configuration</tt><big>(</big><em>config</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.set_configuration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.store_file">
<tt class="descname">store_file</tt><big>(</big><em>path_to_file</em>, <em>dest_dir='/'</em>, <em>remote_file_name=None</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.store_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudfusion.store.caching_store.MultiprocessingCachingStore.store_fileobject">
<tt class="descname">store_fileobject</tt><big>(</big><em>fileobject</em>, <em>path</em><big>)</big><a class="headerlink" href="#cloudfusion.store.caching_store.MultiprocessingCachingStore.store_fileobject" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores a fileobject to the <a class="reference internal" href="util.html#cloudfusion.util.cache.Cache" title="cloudfusion.util.cache.Cache"><tt class="xref py py-class docutils literal"><span class="pre">cloudfusion.util.cache.Cache</span></tt></a> and if the existing fileobject has expired it is also written to the wrapped store.
The cached file&#8217;s updated and modified attributes will be reset to the current point of time.
The cached file&#8217;s dirty flag is set to False if the entry has expired and was hence written to the store. Otherwise it is set to True.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fileobject</strong> &#8211; The file object with the method read() returning data as a string</li>
<li><strong>path</strong> &#8211; The path where the file object&#8217;s data should be stored, including the filename</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cloudfusion.store.bulk_get_metadata">
<span id="the-bulk-get-metadata-module"></span><h1>The <tt class="xref py py-mod docutils literal"><span class="pre">bulk_get_metadata</span></tt> Module<a class="headerlink" href="#module-cloudfusion.store.bulk_get_metadata" title="Permalink to this headline">¶</a></h1>
<p>Created on 08.04.2011</p>
<dl class="class">
<dt id="cloudfusion.store.bulk_get_metadata.BulkGetMetadata">
<em class="property">class </em><tt class="descclassname">cloudfusion.store.bulk_get_metadata.</tt><tt class="descname">BulkGetMetadata</tt><a class="headerlink" href="#cloudfusion.store.bulk_get_metadata.BulkGetMetadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="method">
<dt id="cloudfusion.store.bulk_get_metadata.BulkGetMetadata.get_bulk_metadata">
<tt class="descname">get_bulk_metadata</tt><big>(</big><em>directory</em><big>)</big><a class="headerlink" href="#cloudfusion.store.bulk_get_metadata.BulkGetMetadata.get_bulk_metadata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary mapping the path of every file object in <em>directory</em> to a dictionary with the keys        &#8216;modified&#8217;, &#8216;bytes&#8217; and &#8216;is_dir&#8217; containing the corresponding metadata for the file object.</td>
</tr>
</tbody>
</table>
<p>The value for &#8216;modified&#8217; is a date in seconds, stating when the file object was last modified.  
The value for &#8216;bytes&#8217; is the number of bytes of the file object. It is 0 if the object is a directory.
The value for &#8216;is_dir&#8217; is True if the file object is a directory and False otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">NoSuchFilesytemObjectError if the directory does not exist</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Subpackages</a></li>
<li><a class="reference internal" href="#module-cloudfusion.store.transparent_store">The <tt class="docutils literal"><span class="pre">transparent_store</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-cloudfusion.store.transparent_chunk_caching_store">The <tt class="docutils literal"><span class="pre">transparent_chunk_caching_store</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-cloudfusion.store.transparent_caching_store">The <tt class="docutils literal"><span class="pre">transparent_caching_store</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-cloudfusion.store.store_worker">The <tt class="docutils literal"><span class="pre">store_worker</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-cloudfusion.store.store_sync_thread">The <tt class="docutils literal"><span class="pre">store_sync_thread</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-cloudfusion.store.store">The <tt class="docutils literal"><span class="pre">store</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-cloudfusion.store.metadata_caching_store">The <tt class="docutils literal"><span class="pre">metadata_caching_store</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-cloudfusion.store.chunk_store_worker">The <tt class="docutils literal"><span class="pre">chunk_store_worker</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-cloudfusion.store.chunk_store_sync_thread">The <tt class="docutils literal"><span class="pre">chunk_store_sync_thread</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-cloudfusion.store.chunk_caching_store">The <tt class="docutils literal"><span class="pre">chunk_caching_store</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-cloudfusion.store.caching_store">The <tt class="docutils literal"><span class="pre">caching_store</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-cloudfusion.store.bulk_get_metadata">The <tt class="docutils literal"><span class="pre">bulk_get_metadata</span></tt> Module</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="pyfusebox.html"
                        title="previous chapter">The <tt class="docutils literal"><span class="pre">virtualfile</span></tt> Module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="store.webdav.html"
                        title="next chapter">The <tt class="docutils literal"><span class="pre">webdav_store</span></tt> Module</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/store.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="store.webdav.html" title="The webdav_store Module"
             >next</a> |</li>
        <li class="right" >
          <a href="pyfusebox.html" title="The virtualfile Module"
             >previous</a> |</li>
        <li><a href="index.html">CloudFusion 0.01 documentation</a> &raquo;</li>
          <li><a href="develop.html" >Developers documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Johannes Müller.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>